{"ast":null,"code":"var _jsxFileName = \"/home/gma/Escritorio/TALLER/FINAL/proyecto-software-FRONTEND/src/pages/login/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport './Login.css';\nimport Spinner from 'react-bootstrap/Spinner';\nimport useUser from \"hooks/useUser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const pushLocation = useHistory();\n  const {\n    isLoginLoading,\n    hasLoginError,\n    login,\n    isLogged\n  } = useUser();\n  useEffect(() => {\n    if (isLogged) pushLocation.push('/inv');\n  }, [isLogged, pushLocation]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    /**\n    {axios.get('http://localhost:1337/users/me').then(response =>{\n        console.log(response);\n        console.log(response.data);\n    })} */\n    //alert(`${username}, ${password}`)\n\n    login({\n      username,\n      password\n    }); //pushLocation.push('/inv')\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isLoginLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Checking credentials...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Spinner, {\n        classname: \"spinner\",\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), !isLoginLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Login\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login-sign-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"title\",\n            children: \"Inicio de Sesion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"inputs-container\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"Login-input\",\n              type: \"usuario\",\n              placeholder: \"Usuario\",\n              onChange: e => setUsername(e.target.value),\n              value: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"Login-input\",\n              type: \"password\",\n              placeholder: \"Contrase\\xF1a\",\n              onChange: e => setPassword(e.target.value),\n              value: password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"Login-btn\",\n              children: \" Iniciar Sesion \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Olvidaste tu contrase\\xF1a? \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"span\",\n                children: \"Click aqui\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 61\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 33\n            }, this), hasLoginError && /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"message-invalid\",\n              children: \"Usuario o contrase\\xF1a incorecta!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 55\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"tmmxbVbrnW04WH1CdfMQYqQKYGQ=\", false, function () {\n  return [useHistory, useUser];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/gma/Escritorio/TALLER/FINAL/proyecto-software-FRONTEND/src/pages/login/index.js"],"names":["React","useEffect","useState","useHistory","Spinner","useUser","Login","username","setUsername","password","setPassword","pushLocation","isLoginLoading","hasLoginError","login","isLogged","push","handleSubmit","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport './Login.css'\nimport Spinner from 'react-bootstrap/Spinner'\nimport useUser from \"hooks/useUser\"\n\nexport default function Login(){\n    const [username,setUsername] = useState(\"\")\n    const [password,setPassword] = useState(\"\")\n    const pushLocation= useHistory()\n    const {isLoginLoading,hasLoginError,login, isLogged} = useUser()\n\n\n    useEffect(()=> {\n        if (isLogged) pushLocation.push('/inv')\n    }, [isLogged, pushLocation])\n\n    const handleSubmit= e =>{\n        e.preventDefault()\n        /**\n        {axios.get('http://localhost:1337/users/me').then(response =>{\n            console.log(response);\n            console.log(response.data);\n        })} */\n  \n        //alert(`${username}, ${password}`)\n        login({username,password})\n        //pushLocation.push('/inv')\n    }\n    return (\n        <>\n            {isLoginLoading && \n            <div className= 'loading'>\n                \n                <strong> \n                    Checking credentials...\n                </strong>\n                <Spinner classname = 'spinner' animation=\"border\" />\n            </div>\n            }\n            {!isLoginLoading &&\n                <div className='Login-container'>\n                    \n                    \n                    <div className ='Login'>\n                        <div className='Login-sign-container'>\n                            <h1 className = 'title'>Inicio de Sesion</h1>\n                            \n                            <form  className='inputs-container' onSubmit= {handleSubmit}>\n                                <input className='Login-input' type='usuario'  placeholder='Usuario' onChange={e=> setUsername(e.target.value)} value = {username}/>\n                                <input className='Login-input' type='password' placeholder='Contraseña' onChange={e => setPassword(e.target.value)} value={password}/>\n                                <button className = 'Login-btn'> Iniciar Sesion </button>\n                                <p>Olvidaste tu contraseña? <span className='span'>Click aqui</span> </p>\n                                {\n                                    hasLoginError &&  <i className = 'message-invalid'>Usuario o contraseña incorecta!</i>\n                                }\n                            \n                            </form>\n\n                        </div>\n                        \n                        <div className='login-image' >\n                            \n                        </div>\n                        \n                        {/*\n                        <div className = 'Login Login__info'>\n                            <p> bla bla bla bla bla</p>\n                        </div>\n                        */}\n                    </div>\n\n                </div>\n            }\n\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}